TODO:
- Use socket.io later. (Both client and server-side congruence)

einaros/ws project: Submit a fix?
https://github.com/einaros/ws/blob/master/lib/WebSocketServer.js
- if (!result) abortConnection(socket, 404, 'Unauthorized')

Chat:
- Use Node http to serve up static page as client; see if can run on same port as WS. (This will be needed for deployment)
  http://stackoverflow.com/questions/6084360/node-js-as-a-simple-web-server
  http://stackoverflow.com/questions/16333790/node-js-quick-file-server-static-files-over-http
  http://stackoverflow.com/questions/14576644/whats-the-simplest-way-to-serve-static-files-using-node-js
  https://github.com/cloudhead/node-static
  - Not exactly what we need:
  https://gist.github.com/davatron5000/2254924
- Use WSS (TLS) if available: Possible to use protocol-relative URI for this?
  http://www.websocket.org/echo.html
  
- Ajax endpoint to test if username is in use before login.

iOS6/7 and Android/Chrome:
- WebSocket connection doesn't work when on same port as HTTP server. 
- This is why it works on OpenShift; WS traffic is remapped to another port. (8000 or 8443)
- Use a different port: Works on Android/Chrome but CRASHES iOS6|7/Safari.

TODO: PC: OpenShift: The WS upgrade doesn't seem to work on the same port as the regular HTTP server.
- Appears to just return 200, causing an error.
- Something different in the environment; debug and check logs.
- Perhaps need a different URI so can redirect the requests to WS?
- Seems like the HTTP server does everything. Is the WS server even started?
- May be due to all the network/proxy/load balancers going through; actual port running on is 8080!
- It is possible this mucks with the WebSocket transport and it's lost.
- Use a different URI to try and make sure the request is not handled by the HTTP server?
- Looks like they do some environment/network re-mapping, and you have to use port 8000 for 
WS, regardless of what it actually listens on!
http://tamas.io/deploying-a-node-jssocket-io-app-to-openshift/
http://stackoverflow.com/questions/19948974/websocket-connection-to-openshift-app-failed
https://github.com/openshift-quickstart/openshift-nodejs-http-and-websocket-example
- Is it 3000 or 8080? [8080 works -> HTTP to 80, WS to 8000]
- May want to blog about this, as it's obscure!

Configuration: Figure out how to use Konfig with OpenShift: Possible to modify the node start command? Does it use package.json?
http://stackoverflow.com/questions/5869216/how-to-store-node-js-deployment-settings-configuration-files
